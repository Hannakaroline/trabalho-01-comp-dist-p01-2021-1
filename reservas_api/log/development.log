  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "password" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "open_days" character varying, "open_hours" character varying, "auto_accept" boolean, "max_weekly_booking_hours" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/user/signup" for ::1 at 2021-06-13 12:57:37 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/user/signup"):
  
Started POST "/users/signup" for ::1 at 2021-06-13 12:57:43 -0400
  
LoadError (cannot load such file -- hanami/validations):
  
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 12:58:10 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (+has_a_symbol?+ is not a valid predicate name):
  
app/controllers/users_controller.rb:56:in `block (2 levels) in <class:Signup>'
app/controllers/users_controller.rb:56:in `block in <class:Signup>'
app/controllers/users_controller.rb:54:in `<class:Signup>'
app/controllers/users_controller.rb:50:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 12:59:17 -0400
  
ArgumentError (+has_a_symbol?+ is not a valid predicate name):
  
app/controllers/users_controller.rb:57:in `block (2 levels) in <class:Signup>'
app/controllers/users_controller.rb:57:in `block in <class:Signup>'
app/controllers/users_controller.rb:54:in `<class:Signup>'
app/controllers/users_controller.rb:50:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 13:05:40 -0400
Processing by UsersController#signup as */*
Completed 200 OK in 11ms (Views: 0.1ms | Allocations: 3509)


Started POST "/users/signup" for ::1 at 2021-06-13 13:06:02 -0400
Processing by UsersController#signup as */*
Completed 500 Internal Server Error in 2ms (Allocations: 2611)


  
NoMethodError (undefined method `success' for #<Dry::Validation::Result:0x00007f87dc265320>
Did you mean?  success?):
  
app/controllers/users_controller.rb:8:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:06:06 -0400
Processing by UsersController#signup as */*
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 224)


Started POST "/users/signup" for ::1 at 2021-06-13 13:06:10 -0400
Processing by UsersController#signup as */*
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 794)


Started POST "/users/signup" for ::1 at 2021-06-13 13:06:50 -0400
Processing by UsersController#signup as */*
Completed 500 Internal Server Error in 1ms (Views: 0.1ms | Allocations: 866)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/users_controller.rb:11:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:07:11 -0400
Processing by UsersController#signup as */*
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 787)


Started POST "/users/signup" for ::1 at 2021-06-13 13:07:32 -0400
Processing by UsersController#signup as */*
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 788)


Started POST "/users/signup" for ::1 at 2021-06-13 13:08:13 -0400
Processing by UsersController#signup as */*
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 789)


Started POST "/users/signup" for ::1 at 2021-06-13 13:08:36 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "user"=>{"name"=>"jorge"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 14.9ms | Allocations: 1049)


Started POST "/users/signup" for ::1 at 2021-06-13 13:08:49 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 731)


Started POST "/users/signup" for ::1 at 2021-06-13 13:08:59 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 710)


  
Dry::Validation::MissingMessageError (message for email? was not found):
  
app/controllers/users_controller.rb:9:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:10:08 -0400
  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/users_controller.rb:34:in `<class:MyPredicates>'
app/controllers/users_controller.rb:31:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 13:12:34 -0400
  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/users_controller.rb:34:in `<class:MyPredicates>'
app/controllers/users_controller.rb:31:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 13:12:43 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 3.2ms | Allocations: 593)


  
Dry::Validation::MissingMessageError (message for email? was not found):
  
app/controllers/users_controller.rb:9:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:16:30 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 0ms (ActiveRecord: 3.3ms | Allocations: 593)


  
Dry::Validation::MissingMessageError (message for email? was not found):
  
app/controllers/users_controller.rb:9:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:16:42 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 4547)


Started POST "/users/signup" for ::1 at 2021-06-13 13:18:19 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 4547)


Started POST "/users/signup" for ::1 at 2021-06-13 13:19:19 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Errno::EISDIR (Is a directory - bs_fetch:bs_read_contents:read):
  
app/controllers/users_controller.rb:61:in `<class:Signup>'
app/controllers/users_controller.rb:57:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 13:20:15 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Errno::ENOENT (No such file or directory @ realpath_rec - /Users/daivid/dev/hanna/comp.dist/reservas_api/config/locales/errors.yml):
  
app/controllers/users_controller.rb:61:in `<class:Signup>'
app/controllers/users_controller.rb:57:in `<main>'
Started POST "/users/signup" for ::1 at 2021-06-13 13:24:34 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 9834)


Started POST "/users/signup" for ::1 at 2021-06-13 13:24:49 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 3403)


Started POST "/users/signup" for ::1 at 2021-06-13 13:24:56 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@", "user"=>{"name"=>"jorge", "email"=>"jorge@"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 8936)


Started POST "/users/signup" for ::1 at 2021-06-13 13:25:11 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 990)


Started POST "/users/signup" for ::1 at 2021-06-13 13:25:21 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1079)


  
Dry::Validation::MissingMessageError (message for has_a_lower_case? was not found):
  
app/controllers/users_controller.rb:9:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:26:25 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 3.4ms | Allocations: 593)


  
Dry::Validation::MissingMessageError (message for has_a_lower_case? was not found):
  
app/controllers/users_controller.rb:9:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:26:50 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 3.4ms | Allocations: 7809)


Started POST "/users/signup" for ::1 at 2021-06-13 13:26:57 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1144)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:00 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1078)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:06 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1690)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:23 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1202)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:27 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 557)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:31 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 530)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:35 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 502)


Started POST "/users/signup" for ::1 at 2021-06-13 13:27:38 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 949)


Started POST "/users/signup" for ::1 at 2021-06-13 13:28:03 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1010)


Started POST "/users/signup" for ::1 at 2021-06-13 13:28:28 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.8ms | Allocations: 3472)


  
ActiveModel::UnknownAttributeError (unknown attribute 'password_confirmation' for User.):
  
app/controllers/users_controller.rb:12:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:29:15 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 3.5ms | Allocations: 437)


  
ArgumentError (wrong number of arguments (given 3, expected 1)):
  
app/controllers/users_controller.rb:12:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 13:30:21 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 3252)


Started POST "/users/signup" for ::1 at 2021-06-13 13:31:04 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:31:04.849781"], ["updated_at", "2021-06-13 17:31:04.849781"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 5131)


Started POST "/users/signup" for ::1 at 2021-06-13 13:31:06 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:31:06.896881"], ["updated_at", "2021-06-13 17:31:06.896881"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.4ms | Allocations: 2260)


Started POST "/users/signup" for ::1 at 2021-06-13 13:31:13 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:31:13.135742"], ["updated_at", "2021-06-13 17:31:13.135742"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 2252)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
Started POST "/users/signup" for ::1 at 2021-06-13 13:35:54 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:35:55.109106"], ["updated_at", "2021-06-13 17:35:55.109106"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 17ms (Views: 0.6ms | ActiveRecord: 10.1ms | Allocations: 8511)


Started POST "/users/signup" for ::1 at 2021-06-13 13:35:57 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:35:57.704548"], ["updated_at", "2021-06-13 17:35:57.704548"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 4.2ms | Allocations: 2420)


  [1m[36mUser Destroy (3.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 13:36:47 -0400
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:36:47.156382"], ["updated_at", "2021-06-13 17:36:47.156382"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 11.6ms | Allocations: 8511)


Started POST "/users/signup" for ::1 at 2021-06-13 13:36:49 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:36:49.082333"], ["updated_at", "2021-06-13 17:36:49.082333"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 4.0ms | Allocations: 2441)


  [1m[35m (6.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "password" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "open_days" character varying, "open_hours" character varying, "auto_accept" boolean, "max_weekly_booking_hours" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 13:40:42 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:40:42.374439"], ["updated_at", "2021-06-13 17:40:42.374439"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 8510)


Started POST "/users/signup" for ::1 at 2021-06-13 13:40:43 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:40:43.110739"], ["updated_at", "2021-06-13 17:40:43.110739"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 2451)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "booking_requests"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "password" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "open_days" character varying, "open_hours" character varying, "auto_accept" boolean, "max_weekly_booking_hours" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-13 17:47:10.983839"], ["updated_at", "2021-06-13 17:47:10.983839"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 13:47:18 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:47:18.646756"], ["updated_at", "2021-06-13 17:47:18.646756"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 10.5ms | Allocations: 8511)


Started POST "/users/signup" for ::1 at 2021-06-13 13:47:19 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
[31mUnpermitted parameter: :password_confirmation[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "12345.Ba"], ["created_at", "2021-06-13 17:47:19.792415"], ["updated_at", "2021-06-13 17:47:19.792415"]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 4.1ms | Allocations: 2433)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=(jorge@email.com) already exists.
):
  
app/controllers/users_controller.rb:12:in `signup'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jorge@email.com"], ["LIMIT", 1]]
Started POST "/users/signup" for ::1 at 2021-06-13 13:50:28 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 7481)


Started POST "/users/signup" for ::1 at 2021-06-13 13:50:36 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1850)


Started POST "/users/signup" for ::1 at 2021-06-13 13:50:48 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `signup'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 1074)


Started POST "/users/signup" for ::1 at 2021-06-13 14:28:28 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 7484)


Started POST "/users/signup" for ::1 at 2021-06-13 14:29:19 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 1100)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jorge@email.com"], ["LIMIT", 1]]
Started POST "/users/signup" for ::1 at 2021-06-13 14:30:23 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 6.7ms | Allocations: 4431)


  
OpenSSL::PKey::RSAError (Neither PUB key nor PRIV key: nested asn1 error):
  
app/controllers/users_controller.rb:17:in `initialize'
app/controllers/users_controller.rb:17:in `new'
app/controllers/users_controller.rb:17:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 14:30:48 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 6.5ms | Allocations: 1045)


  
OpenSSL::PKey::RSAError (Neither PUB key nor PRIV key: nested asn1 error):
  
app/controllers/users_controller.rb:18:in `initialize'
app/controllers/users_controller.rb:18:in `new'
app/controllers/users_controller.rb:18:in `signup'
Started POST "/users/signup" for ::1 at 2021-06-13 14:39:40 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["password", "eyJhbGciOiJSUzI1NiJ9.eyJwYXNzd29yZCI6IjEyMzQ1LkJhIn0.JC0P2TLZ9_rb0R5OiJ30K1iThXP6LDiiRWml5rX3tG5K_gaCv8SA81Tid-T81YUU0t-bG7j2f6vaVEjsAjRd0rTbfj2nYjznjGBnZqcW9WMDqgeIl-Zd5HDMsygzry5MudaOseslBZKJ7dUs377Bgx3rd_Y1QDo3l4CD9Bia1BMDP2JUOw7luEh1eo9B5hUwxucGiyxNzPCA9wb51TMYwgMln3OeaiDSdo2_HQEAL5lBxilrtOeC3m1-F7b8z2JqkODQiJ89wMD207P-SoAQhPh6R8-CXdbMXxqHo-lX_oxmusN61VzWjJw9uJwa4UzVmwuqem_S84-ioxqjRa5aOw"], ["created_at", "2021-06-13 18:39:40.896059"], ["updated_at", "2021-06-13 18:39:40.896059"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.8ms | Allocations: 9470)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jorge@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jorge@email.co"], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["name", "jorge"], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["name", "jorg"], ["LIMIT", 1]]
Started GET "/users/login" for ::1 at 2021-06-13 14:50:59 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameters: :name, :password_confirmation, :user[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.9ms | Allocations: 4980)


  
NoMethodError (undefined method `find_by?' for #<Class:0x00007fb4ab3d2ec8>
Did you mean?  find_by
               find_by!):
  
app/controllers/users_controller.rb:35:in `login'
Started GET "/users/login" for ::1 at 2021-06-13 14:51:15 -0400
Processing by UsersController#login as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameters: :name, :password_confirmation, :user[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 5.9ms | Allocations: 908)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column users.access_token does not exist
LINE 1: ...rs".* FROM "users" WHERE "users"."email" = $1 AND "users"."a...
                                                             ^
):
  
app/controllers/users_controller.rb:35:in `login'
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "open_days" character varying, "open_hours" character varying, "auto_accept" boolean, "max_weekly_booking_hours" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-13 18:51:52.299849"], ["updated_at", "2021-06-13 18:51:52.299849"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/login" for ::1 at 2021-06-13 14:52:14 -0400
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameters: :name, :password_confirmation, :user[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJwYXNzd29yZCI6IjEyMzQ1LkJhIn0.JC0P2TLZ9_rb0R5OiJ30K1iThXP6LDiiRWml5rX3tG5K_gaCv8SA81Tid-T81YUU0t-bG7j2f6vaVEjsAjRd0rTbfj2nYjznjGBnZqcW9WMDqgeIl-Zd5HDMsygzry5MudaOseslBZKJ7dUs377Bgx3rd_Y1QDo3l4CD9Bia1BMDP2JUOw7luEh1eo9B5hUwxucGiyxNzPCA9wb51TMYwgMln3OeaiDSdo2_HQEAL5lBxilrtOeC3m1-F7b8z2JqkODQiJ89wMD207P-SoAQhPh6R8-CXdbMXxqHo-lX_oxmusN61VzWjJw9uJwa4UzVmwuqem_S84-ioxqjRa5aOw"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:35:in `login'
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 6606)


Started GET "/users/signup" for ::1 at 2021-06-13 14:52:25 -0400
  
ActionController::RoutingError (No route matches [GET] "/users/signup"):
  
Started POST "/users/signup" for ::1 at 2021-06-13 14:52:30 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:20:in `signup'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJwYXNzd29yZCI6IjEyMzQ1LkJhIn0.JC0P2TLZ9_rb0R5OiJ30K1iThXP6LDiiRWml5rX3tG5K_gaCv8SA81Tid-T81YUU0t-bG7j2f6vaVEjsAjRd0rTbfj2nYjznjGBnZqcW9WMDqgeIl-Zd5HDMsygzry5MudaOseslBZKJ7dUs377Bgx3rd_Y1QDo3l4CD9Bia1BMDP2JUOw7luEh1eo9B5hUwxucGiyxNzPCA9wb51TMYwgMln3OeaiDSdo2_HQEAL5lBxilrtOeC3m1-F7b8z2JqkODQiJ89wMD207P-SoAQhPh6R8-CXdbMXxqHo-lX_oxmusN61VzWjJw9uJwa4UzVmwuqem_S84-ioxqjRa5aOw"], ["created_at", "2021-06-13 18:52:30.189855"], ["updated_at", "2021-06-13 18:52:30.189855"]]
  ↳ app/controllers/users_controller.rb:20:in `signup'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:20:in `signup'
Completed 200 OK in 21ms (Views: 0.8ms | ActiveRecord: 8.7ms | Allocations: 6028)


Started GET "/users/signup" for ::1 at 2021-06-13 14:52:35 -0400
  
ActionController::RoutingError (No route matches [GET] "/users/signup"):
  
Started GET "/users/login" for ::1 at 2021-06-13 14:52:42 -0400
Processing by UsersController#login as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameters: :name, :password_confirmation, :user[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJwYXNzd29yZCI6IjEyMzQ1LkJhIn0.JC0P2TLZ9_rb0R5OiJ30K1iThXP6LDiiRWml5rX3tG5K_gaCv8SA81Tid-T81YUU0t-bG7j2f6vaVEjsAjRd0rTbfj2nYjznjGBnZqcW9WMDqgeIl-Zd5HDMsygzry5MudaOseslBZKJ7dUs377Bgx3rd_Y1QDo3l4CD9Bia1BMDP2JUOw7luEh1eo9B5hUwxucGiyxNzPCA9wb51TMYwgMln3OeaiDSdo2_HQEAL5lBxilrtOeC3m1-F7b8z2JqkODQiJ89wMD207P-SoAQhPh6R8-CXdbMXxqHo-lX_oxmusN61VzWjJw9uJwa4UzVmwuqem_S84-ioxqjRa5aOw"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:35:in `login'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 899)


Started GET "/users/login" for ::1 at 2021-06-13 15:00:34 -0400
Processing by UsersController#login as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameters: :name, :password_confirmation, :user[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 12.8ms | Allocations: 1000)


Started GET "/users/signup" for ::1 at 2021-06-13 15:01:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/users/signup"):
  
Started POST "/users/signup" for ::1 at 2021-06-13 15:01:10 -0400
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-13 19:01:10.217131"], ["updated_at", "2021-06-13 19:01:10.217131"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 5461)


Started GET "/users/login" for ::1 at 2021-06-13 15:01:43 -0400
Error occurred while parsing request parameters.
Contents:

{
    "email": "jorge@email.com",
    "password": "12345.Ba",
}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{
    "email": "jorge@email.com",
    "password": "12345.Ba",
}'):
  
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (6.1.3.2) lib/action_dispatch/http/request.rb:399:in `block in POST'
rack (2.2.3) lib/rack/request.rb:69:in `fetch'
rack (2.2.3) lib/rack/request.rb:69:in `fetch_header'
actionpack (6.1.3.2) lib/action_dispatch/http/request.rb:398:in `POST'
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.1.3.2) lib/action_controller/metal/params_wrapper.rb:284:in `_wrapper_enabled?'
actionpack (6.1.3.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (6.1.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.3.2) lib/abstract_controller/base.rb:165:in `process'
actionpack (6.1.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
activerecord (6.1.3.2) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
    "email": "jorge@email.com",
    "password": "12345.Ba",
}
Started GET "/users/login" for ::1 at 2021-06-13 15:01:51 -0400
Processing by UsersController#login as */*
  Parameters: {"email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 882)


Started POST "/users/login" for ::1 at 2021-06-13 15:02:57 -0400
  
ActionController::RoutingError (No route matches [POST] "/users/login"):
  
Started GET "/users/login" for ::1 at 2021-06-13 15:03:08 -0400
Processing by UsersController#login as */*
  Parameters: {"email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 890)


Started POST "/places" for ::1 at 2021-06-13 15:10:00 -0400
Processing by PlacesController#create as */*
Completed 500 Internal Server Error in 0ms (Allocations: 109)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/authenticated_controller.rb:9:in `authenticate_request'
Started POST "/places" for ::1 at 2021-06-13 15:10:30 -0400
Processing by PlacesController#create as */*
Completed 500 Internal Server Error in 0ms (Allocations: 107)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/authenticated_controller.rb:9:in `authenticate_request'
Started POST "/places" for ::1 at 2021-06-13 15:13:42 -0400
  
SyntaxError (/Users/daivid/dev/hanna/comp.dist/reservas_api/app/controllers/authenticated_controller.rb:12: dynamic constant assignment
    rescue => Exception
              ^~~~~~~~~):
  
app/controllers/authenticated_controller.rb:12: dynamic constant assignment
app/controllers/authenticated_controller.rb:12: dynamic constant assignment
app/controllers/places_controller.rb:1:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 15:14:36 -0400
Processing by PlacesController#create as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 200 OK in 4ms (Views: 0.1ms | Allocations: 3088)


Started POST "/places" for ::1 at 2021-06-13 15:15:09 -0400
Processing by PlacesController#create as */*
Completed 204 No Content in 0ms (Allocations: 174)


Started POST "/places" for ::1 at 2021-06-13 15:15:26 -0400
Processing by PlacesController#create as */*
Completed 204 No Content in 0ms (Allocations: 133)


Started POST "/places" for ::1 at 2021-06-13 15:15:36 -0400
Processing by PlacesController#create as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 243)


Started POST "/places" for ::1 at 2021-06-13 15:15:59 -0400
Processing by PlacesController#create as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 243)


Started POST "/places" for ::1 at 2021-06-13 15:17:58 -0400
Processing by PlacesController#create as */*
Completed 204 No Content in 0ms (Allocations: 171)


Started POST "/places" for ::1 at 2021-06-13 15:18:08 -0400
Processing by PlacesController#create as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 246)


Started POST "/places" for ::1 at 2021-06-13 15:18:26 -0400
Processing by PlacesController#create as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 223)


Started POST "/places" for ::1 at 2021-06-13 15:20:54 -0400
Processing by PlacesController#create as */*
Completed 204 No Content in 0ms (Allocations: 163)


Started POST "/places" for ::1 at 2021-06-13 15:21:00 -0400
Processing by PlacesController#create as */*
Completed 204 No Content in 0ms (Allocations: 158)


Started POST "/places" for ::1 at 2021-06-13 15:22:32 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Completed 204 No Content in 44ms (ActiveRecord: 12.2ms | Allocations: 3783)


Started POST "/places" for ::1 at 2021-06-13 15:22:39 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Filter chain halted as :authenticate_request rendered or redirected
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 657)


Started POST "/places" for ::1 at 2021-06-13 15:22:46 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Completed 204 No Content in 4ms (ActiveRecord: 1.4ms | Allocations: 555)


Started POST "/places" for ::1 at 2021-06-13 15:24:16 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvY"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.1ms | ActiveRecord: 4.9ms | Allocations: 2056)


Started POST "/places" for ::1 at 2021-06-13 15:24:42 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w\""], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 645)


Started GET "/users/login" for ::1 at 2021-06-13 15:24:50 -0400
Processing by UsersController#login as */*
  Parameters: {"email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 6.1ms | Allocations: 3727)


Started GET "/users/login" for ::1 at 2021-06-13 15:24:52 -0400
Processing by UsersController#login as */*
  Parameters: {"email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 889)


Started GET "/users/login" for ::1 at 2021-06-13 15:24:53 -0400
Processing by UsersController#login as */*
  Parameters: {"email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 875)


Started GET "/users/login" for ::1 at 2021-06-13 15:24:53 -0400
Processing by UsersController#login as */*
  Parameters: {"email"=>"jorge@email.com", "password"=>"[FILTERED]", "user"=>{"email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."access_token" = $2 LIMIT $3[0m  [["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:37:in `login'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 875)


Started POST "/places" for ::1 at 2021-06-13 15:25:05 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Completed 204 No Content in 4ms (ActiveRecord: 1.5ms | Allocations: 568)


Started POST "/places" for ::1 at 2021-06-13 15:40:58 -0400
Processing by PlacesController#create as */*
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
Completed 204 No Content in 43ms (ActiveRecord: 10.9ms | Allocations: 3863)


Started POST "/places" for ::1 at 2021-06-13 15:41:20 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "place"=>{"name"=>"sala 41"}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 2ms (ActiveRecord: 4.8ms | Allocations: 640)


Started POST "/places" for ::1 at 2021-06-13 15:41:43 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "place"=>{"name"=>"sala 41", "address"=>"av. x, #123"}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.3ms | Allocations: 657)


Started POST "/places" for ::1 at 2021-06-13 15:42:10 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123"}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 3ms (ActiveRecord: 1.0ms | Allocations: 794)


Started POST "/places" for ::1 at 2021-06-13 15:42:29 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2, "y"=>3}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123"}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :y[0m
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.1ms | Allocations: 830)


Started POST "/places" for ::1 at 2021-06-13 15:42:57 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123"}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.4ms | Allocations: 859)


Started POST "/places" for ::1 at 2021-06-13 15:43:48 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123"}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 7ms (ActiveRecord: 7.2ms | Allocations: 2150)


  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "working_hours" character varying, "auto_accept" boolean, "max_weekly_booking_hours" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-13 19:47:16.696312"], ["updated_at", "2021-06-13 19:47:16.696312"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 15:47:29 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-13 19:47:29.244040"], ["updated_at", "2021-06-13 19:47:29.244040"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 11.2ms | Allocations: 9474)


Started POST "/places" for ::1 at 2021-06-13 15:47:47 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}}}
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 204 No Content in 4ms (ActiveRecord: 5.8ms | Allocations: 928)


Started POST "/places" for ::1 at 2021-06-13 15:53:09 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mPlace Create (1.4ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nmonday:\n- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 3\n  to: 4\n"], ["created_at", "2021-06-13 19:53:09.396280"], ["updated_at", "2021-06-13 19:53:09.396280"]]
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
Completed 200 OK in 22ms (Views: 0.5ms | ActiveRecord: 12.6ms | Allocations: 8715)


Started POST "/places" for ::1 at 2021-06-13 16:47:07 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>[{"from"=>1, "to"=>2}, {"from"=>3, "to"=>4}]}}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :monday[0m
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :monday[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mPlace Create (1.3ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-13 20:47:07.093693"], ["updated_at", "2021-06-13 20:47:07.093693"]]
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 18.1ms | Allocations: 7425)


Started POST "/places" for ::1 at 2021-06-13 16:47:40 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}}}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mPlace Create (1.2ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["created_at", "2021-06-13 20:47:40.904117"], ["updated_at", "2021-06-13 20:47:40.904117"]]
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 5.5ms | Allocations: 3288)


Started POST "/places" for ::1 at 2021-06-13 16:47:58 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mPlace Create (1.6ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["created_at", "2021-06-13 20:47:58.428740"], ["updated_at", "2021-06-13 20:47:58.428740"]]
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 5.5ms | Allocations: 3552)


Started POST "/places" for ::1 at 2021-06-13 16:49:16 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mPlace Create (1.1ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["auto_accept", false], ["created_at", "2021-06-13 20:49:16.593343"], ["updated_at", "2021-06-13 20:49:16.593343"]]
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 5.2ms | Allocations: 3601)


Started POST "/places" for ::1 at 2021-06-13 16:49:32 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mPlace Create (1.1ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 20:49:32.498818"], ["updated_at", "2021-06-13 20:49:32.498818"]]
  ↳ app/controllers/places_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:4:in `create'
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 5.7ms | Allocations: 3601)


Started POST "/places" for ::1 at 2021-06-13 17:00:53 -0400
  
ArgumentError (+gteq+ is not a valid predicate name):
  
app/controllers/places_controller.rb:38:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:38:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:35:in `<class:CreatePlace>'
app/controllers/places_controller.rb:32:in `<class:PlacesController>'
app/controllers/places_controller.rb:3:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:01:13 -0400
  
ArgumentError (+maybe+ is not a valid predicate name):
  
app/controllers/places_controller.rb:39:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:35:in `<class:CreatePlace>'
app/controllers/places_controller.rb:32:in `<class:PlacesController>'
app/controllers/places_controller.rb:3:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:01:32 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 13.4ms | Allocations: 6427)


Started POST "/places" for ::1 at 2021-06-13 17:01:47 -0400
  
ArgumentError (+integer+ is not a valid predicate name):
  
app/controllers/places_controller.rb:38:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:38:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:35:in `<class:CreatePlace>'
app/controllers/places_controller.rb:32:in `<class:PlacesController>'
app/controllers/places_controller.rb:3:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:01:52 -0400
  
ArgumentError (+integer?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:38:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:38:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:35:in `<class:CreatePlace>'
app/controllers/places_controller.rb:32:in `<class:PlacesController>'
app/controllers/places_controller.rb:3:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:02:00 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.2ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:02:00.411829"], ["updated_at", "2021-06-13 21:02:00.411829"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 22ms (Views: 1.0ms | ActiveRecord: 15.5ms | Allocations: 8698)


Started POST "/places" for ::1 at 2021-06-13 17:03:50 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.0ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:03:50.869546"], ["updated_at", "2021-06-13 21:03:50.869546"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 5.5ms | Allocations: 3775)


Started POST "/places" for ::1 at 2021-06-13 17:15:33 -0400
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 10269)


Started POST "/places" for ::1 at 2021-06-13 17:16:27 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"from"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.8ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:16:27.412626"], ["updated_at", "2021-06-13 21:16:27.412626"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 38ms (Views: 0.9ms | ActiveRecord: 16.4ms | Allocations: 9423)


Started POST "/places" for ::1 at 2021-06-13 17:17:26 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"fromx"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"monday"=>{"fromx"=>1, "to"=>2}, "sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2783)


Started POST "/places" for ::1 at 2021-06-13 17:17:48 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 3204)


Started POST "/places" for ::1 at 2021-06-13 17:18:08 -0400
  
ArgumentError (+maybe+ is not a valid predicate name):
  
app/controllers/places_controller.rb:41:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:40:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:35:in `<class:CreatePlace>'
app/controllers/places_controller.rb:32:in `<class:PlacesController>'
app/controllers/places_controller.rb:3:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:18:15 -0400
  
NoMethodError (undefined method `maybe?' for #<Dry::Validation::Schema::Rule:0x00007fc0f4f02820>):
  
app/controllers/places_controller.rb:41:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:40:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:35:in `<class:CreatePlace>'
app/controllers/places_controller.rb:32:in `<class:PlacesController>'
app/controllers/places_controller.rb:3:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:20:18 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.3ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:20:18.607810"], ["updated_at", "2021-06-13 21:20:18.607810"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 21ms (Views: 0.4ms | ActiveRecord: 13.2ms | Allocations: 8451)


Started POST "/places" for ::1 at 2021-06-13 17:21:15 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>2, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.4ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 2\n  to: 3\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:21:15.701811"], ["updated_at", "2021-06-13 21:21:15.701811"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 14.7ms | Allocations: 8584)


Started POST "/places" for ::1 at 2021-06-13 17:21:31 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>"a", "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>"a", "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2162)


Started POST "/places" for ::1 at 2021-06-13 17:21:36 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.6ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:21:36.576711"], ["updated_at", "2021-06-13 21:21:36.576711"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 6.7ms | Allocations: 3040)


Started POST "/places" for ::1 at 2021-06-13 17:21:53 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 6.3ms | Allocations: 3676)


Started POST "/places" for ::1 at 2021-06-13 17:21:59 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>"a", "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>"a", "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.8ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: a\n  to: 3\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:21:59.546778"], ["updated_at", "2021-06-13 21:21:59.546778"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 9.5ms | Allocations: 7169)


Started POST "/places" for ::1 at 2021-06-13 17:22:25 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>"a", "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>"a", "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 2843)


Started POST "/places" for ::1 at 2021-06-13 17:22:33 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1168)


Started POST "/places" for ::1 at 2021-06-13 17:29:47 -0400
  
ArgumentError (+working_hour_range?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:58:in `block (4 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:58:in `block (3 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:57:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:56:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:51:in `<class:CreatePlace>'
app/controllers/places_controller.rb:47:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:30:47 -0400
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (+working_hour_range?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:58:in `block (4 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:58:in `block (3 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:57:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:56:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:51:in `<class:CreatePlace>'
app/controllers/places_controller.rb:47:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:31:28 -0400
  
ArgumentError (+working_hour_range?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:58:in `block (4 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:58:in `block (3 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:57:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:56:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:51:in `<class:CreatePlace>'
app/controllers/places_controller.rb:47:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:34:22 -0400
  
ArgumentError (+working_hour_range?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:58:in `block (4 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:58:in `block (3 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:57:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:56:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:51:in `<class:CreatePlace>'
app/controllers/places_controller.rb:47:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:39:20 -0400
  
ArgumentError (+working_hour_range?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:63:in `block (4 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:63:in `block (3 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:62:in `block (2 levels) in <class:CreatePlace>'
app/controllers/places_controller.rb:61:in `block in <class:CreatePlace>'
app/controllers/places_controller.rb:56:in `<class:CreatePlace>'
app/controllers/places_controller.rb:52:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:47:12 -0400
  
ArgumentError (+gteq+ is not a valid predicate name):
  
app/controllers/places_controller.rb:37:in `block (2 levels) in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:37:in `block in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:36:in `<class:WorkingHourValidator>'
app/controllers/places_controller.rb:33:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:47:48 -0400
  
ArgumentError (+lt+ is not a valid predicate name):
  
app/controllers/places_controller.rb:40:in `block (2 levels) in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:39:in `block in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:36:in `<class:WorkingHourValidator>'
app/controllers/places_controller.rb:33:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:47:58 -0400
  
ArgumentError (+eq?+ is not a valid predicate name):
  
app/controllers/places_controller.rb:40:in `block (2 levels) in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:39:in `block in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:36:in `<class:WorkingHourValidator>'
app/controllers/places_controller.rb:33:in `<main>'
Started POST "/places" for ::1 at 2021-06-13 17:48:08 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 19.1ms | Allocations: 9242)


Started POST "/places" for ::1 at 2021-06-13 17:48:24 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3963)


Started POST "/places" for ::1 at 2021-06-13 17:48:38 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.7ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:48:38.165987"], ["updated_at", "2021-06-13 21:48:38.165987"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 20ms (Views: 0.5ms | ActiveRecord: 8.5ms | Allocations: 7979)


Started POST "/places" for ::1 at 2021-06-13 17:51:00 -0400
  
NoMethodError (undefined method `with' for true:TrueClass):
  
app/controllers/places_controller.rb:39:in `block in <class:WorkingHourValidator>'
app/controllers/places_controller.rb:36:in `<class:WorkingHourValidator>'
app/controllers/places_controller.rb:33:in `<main>'
Error occurred while parsing request parameters.
Contents:

{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": }
    },
    "auto_accept": false,
    "max_weekly_booking_hours": 1
}
Started POST "/places" for ::1 at 2021-06-13 17:51:15 -0400
Error occurred while parsing request parameters.
Contents:

{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": }
    },
    "auto_accept": false,
    "max_weekly_booking_hours": 1
}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": }
    },
    "auto_accept": false,
    "max_weekly_booking_hours": 1
}'):
  
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (6.1.3.2) lib/action_dispatch/http/request.rb:399:in `block in POST'
rack (2.2.3) lib/rack/request.rb:69:in `fetch'
rack (2.2.3) lib/rack/request.rb:69:in `fetch_header'
actionpack (6.1.3.2) lib/action_dispatch/http/request.rb:398:in `POST'
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.1.3.2) lib/action_controller/metal/params_wrapper.rb:284:in `_wrapper_enabled?'
actionpack (6.1.3.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (6.1.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.3.2) lib/abstract_controller/base.rb:165:in `process'
actionpack (6.1.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
activerecord (6.1.3.2) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": }
    },
    "auto_accept": false,
    "max_weekly_booking_hours": 1
}
Started POST "/places" for ::1 at 2021-06-13 17:51:27 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 7.6ms | Allocations: 4866)


Started POST "/places" for ::1 at 2021-06-13 17:51:41 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>3}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (1.1ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "auto_accept", "max_weekly_booking_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 23\n  to: 3\n"], ["auto_accept", false], ["max_weekly_booking_hours", 1.0], ["created_at", "2021-06-13 21:51:41.156207"], ["updated_at", "2021-06-13 21:51:41.156207"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
Completed 200 OK in 26ms (Views: 0.5ms | ActiveRecord: 14.2ms | Allocations: 9120)


Started POST "/places" for ::1 at 2021-06-13 17:51:48 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2416)


  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "working_hours" character varying, "auto_accept" boolean DEFAULT FALSE, "max_weekly_booking_hours" float DEFAULT 0.0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-13 21:53:01.470503"], ["updated_at", "2021-06-13 21:53:01.470503"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 17:53:13 -0400
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-13 21:53:13.449229"], ["updated_at", "2021-06-13 21:53:13.449229"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 14.2ms | Allocations: 9474)


Started POST "/places" for ::1 at 2021-06-13 17:53:25 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "auto_accept"=>false, "max_weekly_booking_hours"=>1}}
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 5954)


Started POST "/places" for ::1 at 2021-06-13 17:53:36 -0400
Error occurred while parsing request parameters.
Contents:

{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": 23}
    },
}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": 23}
    },
}'):
  
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (6.1.3.2) lib/action_dispatch/http/request.rb:399:in `block in POST'
rack (2.2.3) lib/rack/request.rb:69:in `fetch'
rack (2.2.3) lib/rack/request.rb:69:in `fetch_header'
actionpack (6.1.3.2) lib/action_dispatch/http/request.rb:398:in `POST'
actionpack (6.1.3.2) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.1.3.2) lib/action_controller/metal/params_wrapper.rb:284:in `_wrapper_enabled?'
actionpack (6.1.3.2) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (6.1.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.1.3.2) lib/abstract_controller/base.rb:165:in `process'
actionpack (6.1.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
activerecord (6.1.3.2) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
    "name": "sala 41",
    "address": "av. x, #123",
    "working_hours": {
        "sunday": {"from": 1, "to": 2},
        "monday": {"from": 23, "to": 23}
    },
}
Started POST "/places" for ::1 at 2021-06-13 17:53:41 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}}}
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:7:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 4253)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/places" for ::1 at 2021-06-13 19:56:35 -0400
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}}}
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 16663)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlaceAdmin Load (1.6ms)[0m  [1m[34mSELECT "place_admins".* FROM "place_admins" ORDER BY "place_admins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlaceAdmin Load (1.8ms)[0m  [1m[34mSELECT "place_admins".* FROM "place_admins" ORDER BY "place_admins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.8ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/places" for ::1 at 2021-06-13 19:59:40 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>23}}}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 2585)


Started POST "/places" for ::1 at 2021-06-13 20:00:06 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>7}}, "max_weekly_booking_hours"=>0, "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>7}}, "auto_accept"=>false, "max_weekly_booking_hours"=>0}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mPlace Create (2.0ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 23\n  to: 7\n"], ["created_at", "2021-06-14 00:00:06.641446"], ["updated_at", "2021-06-14 00:00:06.641446"]]
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:11:in `create'
  [1m[36mPlaceAdmin Create (1.7ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 00:00:06.664609"], ["updated_at", "2021-06-14 00:00:06.664609"]]
  ↳ app/controllers/places_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:11:in `create'
Completed 200 OK in 43ms (Views: 0.6ms | ActiveRecord: 17.8ms | Allocations: 16148)


  [1m[36mPlace Load (2.2ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlaceAdmin Load (2.3ms)[0m  [1m[34mSELECT "place_admins".* FROM "place_admins" ORDER BY "place_admins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 ORDER BY "places"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Update (1.6ms)[0m  [1m[33mUPDATE "places" SET "name" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["name", "sala 42"], ["updated_at", "2021-06-14 00:05:23.747005"], ["id", 1]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Started PUT "/places/1" for ::1 at 2021-06-13 20:06:24 -0400
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>7}}, "max_weekly_booking_hours"=>0, "auto_accept"=>false, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>7}}, "auto_accept"=>false, "max_weekly_booking_hours"=>0}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:17:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:28:in `update'
  [1m[36mPlace Update (1.5ms)[0m  [1m[33mUPDATE "places" SET "name" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["name", "sala 47"], ["updated_at", "2021-06-14 00:06:24.648696"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:28:in `update'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:28:in `update'
Completed 200 OK in 72ms (Views: 0.5ms | ActiveRecord: 22.8ms | Allocations: 21875)


Started GET "/places" for ::1 at 2021-06-13 20:24:40 -0400
Processing by PlacesController#index as */*
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/places_controller.rb:6:in `index'
Completed 200 OK in 57ms (Views: 7.6ms | ActiveRecord: 13.8ms | Allocations: 15117)


  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "working_hours" character varying, "auto_accept" boolean DEFAULT FALSE, "max_weekly_booking_hours" float DEFAULT 0.0, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 00:28:30.016114"], ["updated_at", "2021-06-14 00:28:30.016114"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 20:28:51 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 00:28:52.123862"], ["updated_at", "2021-06-14 00:28:52.123862"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.8ms | Allocations: 9508)


Started POST "/places" for ::1 at 2021-06-13 20:28:54 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>7}}, "max_weekly_booking_hours"=>0, "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "working_hours"=>{"sunday"=>{"from"=>1, "to"=>2}, "monday"=>{"from"=>23, "to"=>7}}, "auto_accept"=>false, "max_weekly_booking_hours"=>0}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.5ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "working_hours", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["working_hours", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nsunday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 1\n  to: 2\nmonday: !ruby/hash:ActiveSupport::HashWithIndifferentAccess\n  from: 23\n  to: 7\n"], ["created_at", "2021-06-14 00:28:54.838940"], ["updated_at", "2021-06-14 00:28:54.838940"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.6ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 00:28:54.857534"], ["updated_at", "2021-06-14 00:28:54.857534"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 41ms (Views: 0.5ms | ActiveRecord: 20.3ms | Allocations: 15186)


Started PUT "/places/1/enable" for ::1 at 2021-06-13 20:29:44 -0400
Processing by PlacesController#enable as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:40:in `enable'
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 3.7ms | Allocations: 6588)


Started PUT "/places/1/disable" for ::1 at 2021-06-13 20:29:57 -0400
Processing by PlacesController#disable as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:51:in `disable'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:56:in `disable'
  [1m[36mPlace Update (1.2ms)[0m  [1m[33mUPDATE "places" SET "enabled" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["enabled", false], ["updated_at", "2021-06-14 00:29:57.974422"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:56:in `disable'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:56:in `disable'
Completed 200 OK in 19ms (Views: 1.1ms | ActiveRecord: 7.2ms | Allocations: 4173)


Started PUT "/places/1/enable" for ::1 at 2021-06-13 20:30:12 -0400
Processing by PlacesController#enable as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:40:in `enable'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:45:in `enable'
  [1m[36mPlace Update (1.4ms)[0m  [1m[33mUPDATE "places" SET "enabled" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["enabled", true], ["updated_at", "2021-06-14 00:30:12.256294"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:45:in `enable'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:45:in `enable'
Completed 200 OK in 20ms (Views: 1.3ms | ActiveRecord: 7.9ms | Allocations: 4141)


Started GET "/places/search?name=juca" for ::1 at 2021-06-13 20:41:04 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"juca"}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE %'juca'%) ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 13.3ms | Allocations: 9630)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near "%"
LINE 1: SELECT "places".* FROM "places" WHERE (name LIKE %'juca'%) O...
                                                         ^
):
  
app/controllers/places_controller.rb:68:in `search'
Started GET "/places/search?name=juca" for ::1 at 2021-06-13 20:43:08 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"juca"}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE '%juca') ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 13.2ms | Allocations: 7864)


Started GET "/places/search?name=sala" for ::1 at 2021-06-13 20:43:17 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"sala"}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE '%sala') ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 1672)


Started GET "/places" for ::1 at 2021-06-13 20:43:29 -0400
Processing by PlacesController#index as */*
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/places_controller.rb:6:in `index'
Completed 200 OK in 21ms (Views: 8.4ms | ActiveRecord: 7.8ms | Allocations: 8288)


Started GET "/places/search?name=sala" for ::1 at 2021-06-13 20:43:39 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"sala"}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE '%sala') ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 3.2ms | Allocations: 1651)


Started GET "/places/search?name=sala" for ::1 at 2021-06-13 20:43:58 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"sala"}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE '%sala%') ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 200 OK in 27ms (Views: 0.5ms | ActiveRecord: 11.5ms | Allocations: 12658)


  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "max_weekly_booking_hours" float DEFAULT 0.0, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 00:57:29.841135"], ["updated_at", "2021-06-14 00:57:29.841135"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 20:57:39 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 00:57:39.336902"], ["updated_at", "2021-06-14 00:57:39.336902"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 9508)


Started POST "/places" for ::1 at 2021-06-13 20:57:48 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "max_weekly_booking_hours"=>0, "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "max_weekly_booking_hours"=>0}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.8ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-14 00:57:48.164438"], ["updated_at", "2021-06-14 00:57:48.164438"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.9ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 00:57:48.189380"], ["updated_at", "2021-06-14 00:57:48.189380"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 53ms (Views: 0.3ms | ActiveRecord: 24.0ms | Allocations: 13670)


Started PUT "/places/1" for ::1 at 2021-06-13 20:58:00 -0400
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "max_weekly_booking_hours"=>0, "auto_accept"=>false, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false, "max_weekly_booking_hours"=>0}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:22:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:33:in `update'
  [1m[36mPlace Update (1.4ms)[0m  [1m[33mUPDATE "places" SET "name" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["name", "sala 47"], ["updated_at", "2021-06-14 00:58:00.057001"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:33:in `update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:33:in `update'
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 7.9ms | Allocations: 6481)


Started PUT "/places/1/disable" for ::1 at 2021-06-13 20:58:03 -0400
Processing by PlacesController#disable as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:51:in `disable'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:58:in `disable'
  [1m[36mPlace Update (1.2ms)[0m  [1m[33mUPDATE "places" SET "enabled" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["enabled", false], ["updated_at", "2021-06-14 00:58:03.063298"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:58:in `disable'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:58:in `disable'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 8.3ms | Allocations: 3755)


Started PUT "/places/1/enable" for ::1 at 2021-06-13 20:58:05 -0400
Processing by PlacesController#enable as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:40:in `enable'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:45:in `enable'
  [1m[36mPlace Update (1.3ms)[0m  [1m[33mUPDATE "places" SET "enabled" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["enabled", true], ["updated_at", "2021-06-14 00:58:05.351323"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:45:in `enable'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:45:in `enable'
Completed 200 OK in 21ms (Views: 1.0ms | ActiveRecord: 9.7ms | Allocations: 3753)


Started GET "/places" for ::1 at 2021-06-13 20:58:09 -0400
Processing by PlacesController#index as */*
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/places_controller.rb:6:in `index'
Completed 200 OK in 10ms (Views: 2.8ms | ActiveRecord: 3.7ms | Allocations: 2303)


Started GET "/places/search?name=sala" for ::1 at 2021-06-13 20:58:11 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"sala"}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE '%sala%') ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 1819)


  [1m[36mPlace Load (1.6ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.3ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 01:11:53.820953' and '2021-06-14 01:11:53.821358' or bookings.to between '2021-06-14 01:11:53.821603' and '2021-06-14 01:11:53.821860') /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean DEFAULT NULL, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 02:09:02.567915"], ["updated_at", "2021-06-14 02:09:02.567915"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 22:09:16 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 02:09:16.744919"], ["updated_at", "2021-06-14 02:09:16.744919"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 9542)


Started POST "/places" for ::1 at 2021-06-13 22:09:20 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "max_weekly_booking_hours"=>0, "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 8.9ms | Allocations: 5338)


  
ActiveModel::UnknownAttributeError (unknown attribute 'max_weekly_booking_hours' for Place.):
  
app/controllers/places_controller.rb:15:in `create'
Started POST "/places" for ::1 at 2021-06-13 22:09:27 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
Completed 400 Bad Request in 18ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 5841)


Started POST "/places" for ::1 at 2021-06-13 22:09:55 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.4ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-14 02:09:55.883072"], ["updated_at", "2021-06-14 02:09:55.883072"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.8ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 02:09:55.903829"], ["updated_at", "2021-06-14 02:09:55.903829"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 25.0ms | Allocations: 17920)


Started PUT "/places/1" for ::1 at 2021-06-13 22:09:59 -0400
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "max_weekly_booking_hours"=>0, "auto_accept"=>false, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameters: :max_weekly_booking_hours, :place[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:22:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:33:in `update'
  [1m[36mPlace Update (1.5ms)[0m  [1m[33mUPDATE "places" SET "name" = $1, "updated_at" = $2 WHERE "places"."id" = $3[0m  [["name", "sala 47"], ["updated_at", "2021-06-14 02:09:59.408002"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:33:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:33:in `update'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 6402)


Started PUT "/places/1" for ::1 at 2021-06-13 22:10:38 -0400
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:22:in `update'
Completed 200 OK in 11ms (Views: 0.6ms | ActiveRecord: 3.6ms | Allocations: 2430)


Started PUT "/places/1" for ::1 at 2021-06-13 22:11:30 -0400
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:22:in `update'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 2413)


Started PUT "/places/1" for ::1 at 2021-06-13 22:12:46 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:22:in `update'
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 17.5ms | Allocations: 18964)


Started GET "/booking_requests/make" for ::1 at 2021-06-13 22:16:13 -0400
  
ActionController::RoutingError (No route matches [GET] "/booking_requests/make"):
  
Started POST "/booking_requests/create" for ::1 at 2021-06-13 22:17:11 -0400
  
ActionController::RoutingError (No route matches [POST] "/booking_requests/create"):
  
Started POST "/booking_requests" for ::1 at 2021-06-13 22:17:17 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"", "to"=>"", "place_id"=>1, "booking_request"=>{"from"=>"", "to"=>"", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
Completed 400 Bad Request in 30ms (Views: 0.2ms | ActiveRecord: 9.9ms | Allocations: 11991)


Started POST "/booking_requests" for ::1 at 2021-06-13 22:18:29 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
Completed 400 Bad Request in 9ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 2609)


Started POST "/booking_requests" for ::1 at 2021-06-13 22:27:10 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
Completed 409 Conflict in 44ms (Views: 0.2ms | ActiveRecord: 18.6ms | Allocations: 22738)


Started POST "/booking_requests" for ::1 at 2021-06-13 22:33:07 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
Completed 409 Conflict in 47ms (Views: 0.2ms | ActiveRecord: 19.7ms | Allocations: 22791)


  [1m[36mPlace Load (1.8ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[36mBooking Load (2.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287') /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[36mBooking Load (2.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287') /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287')[0m  [["place_id", 1]]
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287') /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[36mBooking Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287') LIMIT $2[0m  [["place_id", 1], ["LIMIT", 1]]
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287') /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[36mBooking Load (2.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287') /* loading for inspect */ LIMIT $2[0m  [["place_id", 1], ["LIMIT", 11]]
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287' or bookings.to between '2021-06-14 04:18:00.387287' and '2021-06-14 05:18:00.387287')[0m  [["place_id", 1]]
Started POST "/booking_requests" for ::1 at 2021-06-13 22:36:42 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 22.2ms | Allocations: 21234)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:45:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:37:56 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 21.6ms | Allocations: 15259)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean DEFAULT NULL, "note" character varying, "booking_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 02:39:21.840472"], ["updated_at", "2021-06-14 02:39:21.840472"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 22:39:32 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 02:39:32.365020"], ["updated_at", "2021-06-14 02:39:32.365020"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.6ms | Allocations: 9542)


Started POST "/places" for ::1 at 2021-06-13 22:39:33 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.4ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-14 02:39:33.858867"], ["updated_at", "2021-06-14 02:39:33.858867"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.9ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 02:39:33.881516"], ["updated_at", "2021-06-14 02:39:33.881516"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 51ms (Views: 0.3ms | ActiveRecord: 20.3ms | Allocations: 12649)


Started POST "/booking_requests" for ::1 at 2021-06-13 22:39:42 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 9.0ms | Allocations: 5924)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
  [1m[36mPlace Load (2.3ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPlace Load (1.8ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPlace Load (2.5ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean DEFAULT NULL, "note" character varying, "booking_id" bigint DEFAULT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 02:42:04.260497"], ["updated_at", "2021-06-14 02:42:04.260497"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 22:42:10 -0400
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 02:42:10.712745"], ["updated_at", "2021-06-14 02:42:10.712745"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.9ms | Allocations: 9542)


Started POST "/places" for ::1 at 2021-06-13 22:42:13 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.5ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-14 02:42:13.327921"], ["updated_at", "2021-06-14 02:42:13.327921"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.9ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 02:42:13.352240"], ["updated_at", "2021-06-14 02:42:13.352240"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 52ms (Views: 0.3ms | ActiveRecord: 22.0ms | Allocations: 12649)


Started POST "/booking_requests" for ::1 at 2021-06-13 22:42:16 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 9.4ms | Allocations: 5925)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (2.0ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPlace Load (2.0ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBookingRequest Create (1.7ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 04:18:00"], ["to", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-14 02:47:03.691660"], ["updated_at", "2021-06-14 02:47:03.691660"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBookingRequest Load (1.7ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" ORDER BY "booking_requests"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBookingRequest Load (2.3ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" ORDER BY "booking_requests"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBookingRequest Destroy (1.7ms)[0m  [1m[31mDELETE FROM "booking_requests" WHERE "booking_requests"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/booking_requests" for ::1 at 2021-06-13 22:47:24 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 55ms (ActiveRecord: 18.3ms | Allocations: 15248)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
  [1m[36mPlace Load (1.6ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBookingRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 04:18:00"], ["to", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-14 02:47:33.963658"], ["updated_at", "2021-06-14 02:47:33.963658"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBookingRequest Load (2.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" ORDER BY "booking_requests"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBookingRequest Destroy (1.6ms)[0m  [1m[31mDELETE FROM "booking_requests" WHERE "booking_requests"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Started POST "/booking_requests" for ::1 at 2021-06-13 22:47:57 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 20.4ms | Allocations: 21253)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:48:46 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 17.5ms | Allocations: 15246)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:50:14 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 17.3ms | Allocations: 15244)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:52:32 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Unknown key: :optional. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :autosave, :required, :touch):
  
app/models/booking_request.rb:4:in `<class:BookingRequest>'
app/models/booking_request.rb:1:in `<main>'
app/controllers/booking_requests_controller.rb:105:in `<main>'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:54:26 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 19.6ms | Allocations: 21244)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:58:45 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 19.2ms | Allocations: 15246)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 22:58:53 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 19.2ms | Allocations: 15247)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:00:25 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 17.9ms | Allocations: 15244)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:00:38 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 16.8ms | Allocations: 15221)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:01:00 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 18.1ms | Allocations: 15176)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:57:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:01:23 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 19.0ms | Allocations: 14801)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:57:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:01:43 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.6ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 22.1ms | Allocations: 15230)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:58:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:01:50 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 20.0ms | Allocations: 15183)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:58:in `create'
  [1m[36mPlace Load (1.9ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/booking_requests" for ::1 at 2021-06-13 23:03:01 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 20.9ms | Allocations: 21245)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:53:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:03:48 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 17.3ms | Allocations: 15262)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:53:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:04:04 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (2.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 6.0ms | Allocations: 3339)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:53:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:05:07 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 18.1ms | Allocations: 15473)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:53:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:06:48 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 18.0ms | Allocations: 15423)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:07:02 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 18.2ms | Allocations: 15440)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:07:13 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 20.9ms | Allocations: 22151)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "start" timestamp, "end" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean DEFAULT NULL, "note" character varying, "booking_id" bigint DEFAULT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 03:09:43.228688"], ["updated_at", "2021-06-14 03:09:43.228688"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 23:10:31 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 03:10:31.599204"], ["updated_at", "2021-06-14 03:10:31.599204"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 12.1ms | Allocations: 9542)


Started POST "/places" for ::1 at 2021-06-13 23:10:35 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.5ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-14 03:10:35.055010"], ["updated_at", "2021-06-14 03:10:35.055010"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.9ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 03:10:35.077419"], ["updated_at", "2021-06-14 03:10:35.077419"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 50ms (Views: 0.7ms | ActiveRecord: 20.6ms | Allocations: 12649)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:10:42 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 10.0ms | Allocations: 6121)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:12:51 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 18.7ms | Allocations: 15448)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:13:09 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 18.5ms | Allocations: 15434)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:50:in `create'
  [1m[36mPlace Load (2.3ms)[0m  [1m[34mSELECT "places".* FROM "places" ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (1.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/booking_requests" for ::1 at 2021-06-13 23:15:22 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 19.6ms | Allocations: 20969)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:51:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:16:51 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 17.4ms | Allocations: 15011)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:57:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:17:03 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 19.1ms | Allocations: 15011)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:57:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:19:00 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 19.8ms | Allocations: 21569)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:57:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:19:45 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:58:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:58:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:59:in `create'
  [1m[36mBookingRequest Create (1.9ms)[0m  [1m[32mINSERT INTO "booking_requests" ("start", "end", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["start", "2021-06-14 04:18:00"], ["end", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-14 03:19:45.160050"], ["updated_at", "2021-06-14 03:19:45.160050"]]
  ↳ app/controllers/booking_requests_controller.rb:59:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:59:in `create'
Completed 200 OK in 69ms (Views: 0.6ms | ActiveRecord: 28.0ms | Allocations: 24018)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:21:11 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:58:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:58:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:59:in `create'
  [1m[36mBookingRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "booking_requests" ("start", "end", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["start", "2021-06-14 04:18:00"], ["end", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-14 03:21:11.985839"], ["updated_at", "2021-06-14 03:21:11.985839"]]
  ↳ app/controllers/booking_requests_controller.rb:59:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:59:in `create'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 11.1ms | Allocations: 5854)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:21:43 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
  [1m[36mPlaceAdmin Load (1.2ms)[0m  [1m[34mSELECT "place_admins".* FROM "place_admins" WHERE "place_admins"."place_id" = $1 ORDER BY "place_admins"."id" ASC LIMIT $2[0m  [["place_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mBooking Create (1.9ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 04:18:00"], ["to", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-14 03:21:43.070891"], ["updated_at", "2021-06-14 03:21:43.070891"]]
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 19.4ms | Allocations: 15440)


  
ActiveModel::UnknownAttributeError (unknown attribute 'from' for BookingRequest.):
  
app/controllers/booking_requests_controller.rb:34:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:23:05 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 409 Conflict in 42ms (Views: 0.1ms | ActiveRecord: 18.7ms | Allocations: 21410)


  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean DEFAULT NULL, "note" character varying, "booking_id" bigint DEFAULT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-14 03:23:39.903822"], ["updated_at", "2021-06-14 03:23:39.903822"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-13 23:24:06 -0400
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-14 03:24:06.908260"], ["updated_at", "2021-06-14 03:24:06.908260"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 12.2ms | Allocations: 9542)


Started POST "/places" for ::1 at 2021-06-13 23:24:09 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (1.5ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-14 03:24:09.678603"], ["updated_at", "2021-06-14 03:24:09.678603"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (1.6ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-14 03:24:09.696295"], ["updated_at", "2021-06-14 03:24:09.696295"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 20.0ms | Allocations: 12683)


Started PUT "/places/1" for ::1 at 2021-06-13 23:24:18 -0400
Processing by PlacesController#update as */*
  Parameters: {"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>true, "id"=>"1", "place"=>{"name"=>"sala 47", "address"=>"av. x, #123", "auto_accept"=>true}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:22:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:33:in `update'
  [1m[36mPlace Update (1.3ms)[0m  [1m[33mUPDATE "places" SET "name" = $1, "auto_accept" = $2, "updated_at" = $3 WHERE "places"."id" = $4[0m  [["name", "sala 47"], ["auto_accept", true], ["updated_at", "2021-06-14 03:24:18.707736"], ["id", 1]]
  ↳ app/controllers/places_controller.rb:33:in `update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:33:in `update'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 7945)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:24:24 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
  [1m[36mPlaceAdmin Load (1.0ms)[0m  [1m[34mSELECT "place_admins".* FROM "place_admins" WHERE "place_admins"."place_id" = $1 ORDER BY "place_admins"."id" ASC LIMIT $2[0m  [["place_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:32:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mBooking Create (1.6ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 04:18:00"], ["to", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-14 03:24:24.096771"], ["updated_at", "2021-06-14 03:24:24.096771"]]
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:27:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:34:in `create'
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:34:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:34:in `create'
  [1m[36mBookingRequest Create (1.8ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "accepted", "booking_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["from", "2021-06-14 04:18:00"], ["to", "2021-06-14 05:18:00"], ["place_id", 1], ["user_id", 1], ["accepted", true], ["booking_id", 1], ["created_at", "2021-06-14 03:24:24.113973"], ["updated_at", "2021-06-14 03:24:24.113973"]]
  ↳ app/controllers/booking_requests_controller.rb:34:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:34:in `create'
Completed 200 OK in 67ms (Views: 0.3ms | ActiveRecord: 26.3ms | Allocations: 20524)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:24:25 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:22:in `create'
Completed 409 Conflict in 13ms (Views: 0.1ms | ActiveRecord: 4.9ms | Allocations: 5414)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:27:08 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
TypeError (no implicit conversion of Dry::Validation::Schema::Check into String):
  
app/controllers/booking_requests_controller.rb:102:in `match'
app/controllers/booking_requests_controller.rb:102:in `iso8601'
app/controllers/booking_requests_controller.rb:102:in `block (2 levels) in <class:BookingRequestForm>'
app/controllers/booking_requests_controller.rb:101:in `block in <class:BookingRequestForm>'
app/controllers/booking_requests_controller.rb:97:in `<class:BookingRequestForm>'
app/controllers/booking_requests_controller.rb:93:in `<main>'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:28:46 -0400
  
ArgumentError (+puts+ is not a valid predicate name):
  
app/controllers/booking_requests_controller.rb:102:in `block (2 levels) in <class:BookingRequestForm>'
app/controllers/booking_requests_controller.rb:101:in `block in <class:BookingRequestForm>'
app/controllers/booking_requests_controller.rb:97:in `<class:BookingRequestForm>'
app/controllers/booking_requests_controller.rb:93:in `<main>'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:34:48 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:12:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 29.0ms | Allocations: 16548)


  
TypeError (no implicit conversion of DateTime into String):
  
app/controllers/booking_requests_controller.rb:17:in `match'
app/controllers/booking_requests_controller.rb:17:in `iso8601'
app/controllers/booking_requests_controller.rb:17:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:35:13 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 14.4ms | Allocations: 13024)


  
TypeError (no implicit conversion of DateTime into String):
  
app/controllers/booking_requests_controller.rb:18:in `match'
app/controllers/booking_requests_controller.rb:18:in `iso8601'
app/controllers/booking_requests_controller.rb:18:in `create'
Started POST "/booking_requests" for ::1 at 2021-06-13 23:35:51 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T00:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 04:18:00' and '2021-06-14 05:18:00' or bookings.to between '2021-06-14 04:18:00' and '2021-06-14 05:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
Completed 409 Conflict in 44ms (Views: 0.2ms | ActiveRecord: 20.1ms | Allocations: 23556)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:36:07 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T02:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T02:18:00-04:00", "to"=>"2021-06-14T01:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
Completed 400 Bad Request in 7ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 2730)


Started POST "/booking_requests" for ::1 at 2021-06-13 23:36:13 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T02:18:00-04:00", "to"=>"2021-06-14T03:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T02:18:00-04:00", "to"=>"2021-06-14T03:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 06:18:00' and '2021-06-14 07:18:00' or bookings.to between '2021-06-14 06:18:00' and '2021-06-14 07:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mPlaceAdmin Load (1.2ms)[0m  [1m[34mSELECT "place_admins".* FROM "place_admins" WHERE "place_admins"."place_id" = $1 ORDER BY "place_admins"."id" ASC LIMIT $2[0m  [["place_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:33:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:28:in `create'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:28:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:28:in `create'
  [1m[36mBooking Create (2.7ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 06:18:00"], ["to", "2021-06-14 07:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-14 03:36:13.296376"], ["updated_at", "2021-06-14 03:36:13.296376"]]
  ↳ app/controllers/booking_requests_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:28:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:35:in `create'
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:35:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:35:in `create'
  [1m[36mBookingRequest Create (1.5ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "accepted", "booking_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["from", "2021-06-14 06:18:00"], ["to", "2021-06-14 07:18:00"], ["place_id", 1], ["user_id", 1], ["accepted", true], ["booking_id", 2], ["created_at", "2021-06-14 03:36:13.320166"], ["updated_at", "2021-06-14 03:36:13.320166"]]
  ↳ app/controllers/booking_requests_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:35:in `create'
Completed 200 OK in 66ms (Views: 0.4ms | ActiveRecord: 28.8ms | Allocations: 18902)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 20:57:03 -0400
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (4.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null)[0m  [["user_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:68:in `made'
Completed 200 OK in 64ms (Views: 2.4ms | ActiveRecord: 22.0ms | Allocations: 14380)


Started POST "/booking_requests" for ::1 at 2021-06-14 20:57:09 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T02:18:00-04:00", "to"=>"2021-06-14T03:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T02:18:00-04:00", "to"=>"2021-06-14T03:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (2.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (5.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 06:18:00' and '2021-06-14 07:18:00' or bookings.to between '2021-06-14 06:18:00' and '2021-06-14 07:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
Completed 409 Conflict in 64ms (Views: 0.2ms | ActiveRecord: 20.4ms | Allocations: 17256)


Started POST "/booking_requests" for ::1 at 2021-06-14 20:59:44 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T01:18:00-04:00", "to"=>"2021-06-14T03:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T01:18:00-04:00", "to"=>"2021-06-14T03:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 05:18:00' and '2021-06-14 07:18:00' or bookings.to between '2021-06-14 05:18:00' and '2021-06-14 07:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
Completed 409 Conflict in 13ms (Views: 0.1ms | ActiveRecord: 4.7ms | Allocations: 2519)


Started POST "/booking_requests" for ::1 at 2021-06-14 20:59:53 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T03:18:00-04:00", "to"=>"2021-06-14T04:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T03:18:00-04:00", "to"=>"2021-06-14T04:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.7ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 07:18:00' and '2021-06-14 08:18:00' or bookings.to between '2021-06-14 07:18:00' and '2021-06-14 08:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
Completed 409 Conflict in 30ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 2482)


Started POST "/booking_requests" for ::1 at 2021-06-14 21:00:03 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (4.2ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 01:00:03.304158"], ["updated_at", "2021-06-15 01:00:03.304158"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 14.8ms | Allocations: 11073)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 21:00:07 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.4ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null)[0m  [["user_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:68:in `made'
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 3.4ms | Allocations: 1942)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 21:01:08 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.7ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 49ms (Views: 0.3ms | ActiveRecord: 13.5ms | Allocations: 13239)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPlace Load (3.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (1.9ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.2ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.6ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 ORDER BY "places"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlace Load (2.2ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.1ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.2ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mPlace Load (2.0ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" JOIN booking_requests ON booking_requests.place_id = places.id WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (1.6ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" INNER JOIN "booking_requests" ON "booking_requests"."place_id" = "places"."id" WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (2.0ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" INNER JOIN "booking_requests" ON "booking_requests"."place_id" = "places"."id" WHERE "place_admins"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" INNER JOIN "booking_requests" ON "booking_requests"."place_id" = "places"."id" WHERE "place_admins"."user_id" = $1 ORDER BY "places"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" INNER JOIN "booking_requests" ON "booking_requests"."place_id" = "places"."id" WHERE "place_admins"."user_id" = $1 ORDER BY "places"."id" ASC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" INNER JOIN "booking_requests" ON "booking_requests"."place_id" = "places"."id" WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "booking_requests" ON "booking_requests"."place_id" = "places"."id" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBookingRequest Load (1.6ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN places on place_id = places.id /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBookingRequest Load (2.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN places on place_id = places.id WHERE (places.user_id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBookingRequest Load (1.4ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBookingRequest Load (1.4ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[34mSELECT "booking_requests"."id" AS t0_r0, "booking_requests"."from" AS t0_r1, "booking_requests"."to" AS t0_r2, "booking_requests"."place_id" AS t0_r3, "booking_requests"."user_id" AS t0_r4, "booking_requests"."accepted" AS t0_r5, "booking_requests"."note" AS t0_r6, "booking_requests"."booking_id" AS t0_r7, "booking_requests"."created_at" AS t0_r8, "booking_requests"."updated_at" AS t0_r9, "place"."id" AS t1_r0, "place"."name" AS t1_r1, "place"."address" AS t1_r2, "place"."auto_accept" AS t1_r3, "place"."enabled" AS t1_r4, "place"."created_at" AS t1_r5, "place"."updated_at" AS t1_r6 FROM "booking_requests" LEFT OUTER JOIN "places" "place" ON "place"."id" = "booking_requests"."place_id" WHERE "place"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "booking_requests"."id" AS t0_r0, "booking_requests"."from" AS t0_r1, "booking_requests"."to" AS t0_r2, "booking_requests"."place_id" AS t0_r3, "booking_requests"."user_id" AS t0_r4, "booking_requests"."accepted" AS t0_r5, "booking_requests"."note" AS t0_r6, "booking_requests"."booking_id" AS t0_r7, "booking_requests"."created_at" AS t0_r8, "booking_requests"."updated_at" AS t0_r9, "places"."id" AS t1_r0, "places"."name" AS t1_r1, "places"."address" AS t1_r2, "places"."auto_accept" AS t1_r3, "places"."enabled" AS t1_r4, "places"."created_at" AS t1_r5, "places"."updated_at" AS t1_r6 FROM "booking_requests" LEFT OUTER JOIN "places" ON "places"."id" = "booking_requests"."place_id" WHERE "places"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mBookingRequest Load (2.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1 /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  [1m[36mBookingRequest Load (1.7ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "booking_requests"[0m
Started POST "/booking_requests" for ::1 at 2021-06-14 21:31:20 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (0.8ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.8ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 01:31:21.104829"], ["updated_at", "2021-06-15 01:31:21.104829"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 53ms (Views: 0.3ms | ActiveRecord: 28.4ms | Allocations: 23035)


Started POST "/booking_requests" for ::1 at 2021-06-14 21:31:21 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.5ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 01:31:21.827501"], ["updated_at", "2021-06-15 01:31:21.827501"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 11.6ms | Allocations: 5857)


Started POST "/booking_requests" for ::1 at 2021-06-14 21:31:22 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.9ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 01:31:22.496627"], ["updated_at", "2021-06-15 01:31:22.496627"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 11.3ms | Allocations: 5856)


Started POST "/booking_requests" for ::1 at 2021-06-14 21:31:22 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 01:31:22.994899"], ["updated_at", "2021-06-15 01:31:22.994899"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 10.2ms | Allocations: 5853)


Started POST "/booking_requests" for ::1 at 2021-06-14 21:31:23 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 01:31:23.387810"], ["updated_at", "2021-06-15 01:31:23.387810"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 10.4ms | Allocations: 5856)


  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "booking_requests"[0m
  [1m[36mBookingRequest Load (2.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1 /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  [1m[36mBookingRequest Load (1.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1 and accepted = nil /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBookingRequest Load (1.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1 and accepted IS NULL /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/booking_requests/received" for ::1 at 2021-06-14 21:39:03 -0400
Processing by BookingRequestsController#received as */*
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 9.8ms | Allocations: 10374)


  
NameError (undefined local variable or method `u' for #<BookingRequestsController:0x007fa87ba5a840>):
  
app/controllers/booking_requests_controller.rb:72:in `received'
Started GET "/booking_requests/received" for ::1 at 2021-06-14 21:39:41 -0400
Processing by BookingRequestsController#received as */*
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  ↳ app/controllers/booking_requests_controller.rb:73:in `received'
Completed 200 OK in 33ms (Views: 7.9ms | ActiveRecord: 14.4ms | Allocations: 14356)


  [1m[36mBookingRequest Update All (1.9ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = nil WHERE (to is not null)[0m
  [1m[36mBookingRequest Update All (1.9ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = nil WHERE (booking_requests.to is not null)[0m
  [1m[36mBookingRequest Update All (2.9ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = null WHERE (booking_requests.to is not null)[0m
Started GET "/booking_requests/received" for ::1 at 2021-06-14 21:59:16 -0400
Processing by BookingRequestsController#received as */*
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.9ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  ↳ app/controllers/booking_requests_controller.rb:73:in `received'
Completed 200 OK in 53ms (Views: 6.4ms | ActiveRecord: 13.7ms | Allocations: 15168)


Started POST "/booking_requests/3" for ::1 at 2021-06-14 22:02:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/booking_requests/3"):
  
Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:04:14 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"answer"=>false, "id"=>"3", "booking_request"=>{}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameters: :answer, :id, :booking_request[0m
Completed 404 Not Found in 19ms (ActiveRecord: 15.1ms | Allocations: 6336)


  
ActiveRecord::RecordNotFound (Couldn't find BookingRequest without an ID):
  
app/controllers/booking_requests_controller.rb:78:in `answer'
Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:05:49 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (0.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
Completed 200 OK in 44ms (Views: 0.4ms | ActiveRecord: 18.3ms | Allocations: 19859)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:06:24 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (2.1ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 34ms (Views: 1.0ms | ActiveRecord: 13.6ms | Allocations: 14033)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:07:08 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.3ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 3.0ms | Allocations: 2743)


Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:08:15 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:90:in `answer'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:90:in `answer'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:90:in `answer'
  [1m[36mBookingRequest Update (1.0ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "updated_at" = $2 WHERE "booking_requests"."id" = $3[0m  [["accepted", false], ["updated_at", "2021-06-15 02:08:15.916540"], ["id", 3]]
  ↳ app/controllers/booking_requests_controller.rb:90:in `answer'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:90:in `answer'
Completed 200 OK in 52ms (Views: 0.3ms | ActiveRecord: 23.0ms | Allocations: 23097)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:08:21 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.1ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 3.3ms | Allocations: 2841)


Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:09:42 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (0.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" IN ($1)[0m  [[nil, 3]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
Completed 404 Not Found in 23ms (ActiveRecord: 13.5ms | Allocations: 11185)


  
ActiveRecord::RecordNotFound (Couldn't find all BookingRequests with 'id': (3, {:accepted=>nil}) (found 1 results, but was looking for 2).):
  
app/controllers/booking_requests_controller.rb:78:in `answer'
Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:10:16 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 10.0ms | Allocations: 7233)


  
NoMethodError (undefined method `first' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:78:in `answer'
Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:10:23 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
Completed 500 Internal Server Error in 22ms (Views: 0.1ms | ActiveRecord: 12.9ms | Allocations: 10397)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:84:in `answer'
Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:11:15 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.4ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
Completed 500 Internal Server Error in 21ms (Views: 0.1ms | ActiveRecord: 10.7ms | Allocations: 10434)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/booking_requests_controller.rb:84:in `answer'
Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:11:28 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 35ms (Views: 1.4ms | ActiveRecord: 13.1ms | Allocations: 14032)


  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBookingRequest Load (1.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started POST "/booking_requests/3/answer" for ::1 at 2021-06-14 22:12:16 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"3", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
Completed 404 Not Found in 16ms (Views: 0.1ms | ActiveRecord: 9.7ms | Allocations: 6893)


Started GET "/booking_requests/received" for ::1 at 2021-06-14 22:12:33 -0400
Processing by BookingRequestsController#received as */*
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.5ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  ↳ app/controllers/booking_requests_controller.rb:73:in `received'
Completed 200 OK in 15ms (Views: 6.7ms | ActiveRecord: 5.5ms | Allocations: 6971)


Started POST "/booking_requests/5/answer" for ::1 at 2021-06-14 22:13:11 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"5", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update (1.0ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "updated_at" = $2 WHERE "booking_requests"."id" = $3[0m  [["accepted", true], ["updated_at", "2021-06-15 02:13:11.907312"], ["id", 5]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 19.4ms | Allocations: 19869)


  
ActiveModel::UnknownAttributeError (unknown attribute 'approved_by_user' for Booking.):
  
app/controllers/booking_requests_controller.rb:95:in `block in answer'
app/controllers/booking_requests_controller.rb:93:in `answer'
Started POST "/booking_requests/5/answer" for ::1 at 2021-06-14 22:14:54 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"5", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.9ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mPlace Load (0.8ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update (2.1ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "updated_at" = $2 WHERE "booking_requests"."id" = $3[0m  [["accepted", true], ["updated_at", "2021-06-15 02:14:54.920370"], ["id", 5]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBooking Create (2.8ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:14:54.934929"], ["updated_at", "2021-06-15 02:14:54.934929"]]
  ↳ app/controllers/booking_requests_controller.rb:95:in `block in answer'
  [1m[36mBookingRequest Update All (2.7ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = false, note = 'conflict' WHERE (booking_requests.place_id = 1 AND booking_requests.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or booking_requests.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m
  ↳ app/controllers/booking_requests_controller.rb:105:in `block in answer'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 200 OK in 74ms (Views: 0.7ms | ActiveRecord: 37.2ms | Allocations: 29098)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:15:02 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.4ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 3.4ms | Allocations: 2882)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:18:35 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 10.7ms | Allocations: 14033)


Started POST "/booking_requests/4/answer" for ::1 at 2021-06-14 22:18:49 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"4", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (0.8ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (2.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update (0.9ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "updated_at" = $2 WHERE "booking_requests"."id" = $3[0m  [["accepted", true], ["updated_at", "2021-06-15 02:18:49.325028"], ["id", 4]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBooking Create (1.7ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:18:49.338402"], ["updated_at", "2021-06-15 02:18:49.338402"]]
  ↳ app/controllers/booking_requests_controller.rb:95:in `block in answer'
  [1m[36mBookingRequest Update All (1.2ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = false, note = 'conflict' WHERE (booking_requests.accepted IS NULL AND booking_requests.place_id = 1 AND booking_requests.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or booking_requests.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m
  ↳ app/controllers/booking_requests_controller.rb:105:in `block in answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 200 OK in 65ms (Views: 0.3ms | ActiveRecord: 25.2ms | Allocations: 19567)


Started POST "/booking_requests/4/answer" for ::1 at 2021-06-14 22:21:02 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"4", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mPlace Load (2.7ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:98:in `block in answer'
  [1m[36mBooking Create (2.5ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:21:02.222132"], ["updated_at", "2021-06-15 02:21:02.222132"]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update (3.2ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "booking_id" = $2, "updated_at" = $3 WHERE "booking_requests"."id" = $4[0m  [["accepted", true], ["booking_id", 5], ["updated_at", "2021-06-15 02:21:02.226714"], ["id", 4]]
  ↳ app/controllers/booking_requests_controller.rb:101:in `block in answer'
  [1m[36mBookingRequest Update All (2.7ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = false, note = 'conflict' WHERE (booking_requests.accepted IS NULL AND booking_requests.place_id = 1 AND booking_requests.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or booking_requests.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m
  ↳ app/controllers/booking_requests_controller.rb:105:in `block in answer'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 200 OK in 76ms (Views: 0.3ms | ActiveRecord: 38.5ms | Allocations: 28621)


Started POST "/booking_requests/4/answer" for ::1 at 2021-06-14 22:28:38 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"4", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.4ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:98:in `block in answer'
  [1m[36mBooking Create (2.0ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:28:39.107939"], ["updated_at", "2021-06-15 02:28:39.107939"]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 20.1ms | Allocations: 26056)


  
ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (5 for 6) in: 
      booking_requests.id <> ? AND booking_requests.accepted IS NULL AND booking_requests.place_id = ? AND
      (booking_requests.from between ? and ? OR booking_requests.to between ? and ?):
  
app/controllers/booking_requests_controller.rb:108:in `block in answer'
app/controllers/booking_requests_controller.rb:93:in `answer'
Started POST "/booking_requests/4/answer" for ::1 at 2021-06-14 22:30:07 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"4", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.2ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:98:in `block in answer'
  [1m[36mBooking Create (1.5ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:30:07.561818"], ["updated_at", "2021-06-15 02:30:07.561818"]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update All (1.7ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = false, note = 'conflict' WHERE (
      booking_requests.id <> 4 AND booking_requests.accepted IS NULL AND booking_requests.place_id = 1 AND
      (booking_requests.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' OR booking_requests.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')[0m
  ↳ app/controllers/booking_requests_controller.rb:108:in `block in answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 500 Internal Server Error in 71ms (ActiveRecord: 37.2ms | Allocations: 27791)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at end of input
LINE 3: ....to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00')
                                                                       ^
):
  
app/controllers/booking_requests_controller.rb:108:in `block in answer'
app/controllers/booking_requests_controller.rb:93:in `answer'
Started POST "/booking_requests/4/answer" for ::1 at 2021-06-14 22:31:00 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"4", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mPlace Load (1.3ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:98:in `block in answer'
  [1m[36mBooking Create (1.9ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:31:00.470900"], ["updated_at", "2021-06-15 02:31:00.470900"]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update All (2.1ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = false, note = 'conflict' WHERE (
      booking_requests.id <> 4 AND booking_requests.accepted IS NULL AND booking_requests.place_id = 1 AND
      (booking_requests.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' OR booking_requests.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00'))[0m
  ↳ app/controllers/booking_requests_controller.rb:108:in `block in answer'
  [1m[36mBookingRequest Update (1.8ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "booking_id" = $2, "updated_at" = $3 WHERE "booking_requests"."id" = $4[0m  [["accepted", true], ["booking_id", 8], ["updated_at", "2021-06-15 02:31:00.478117"], ["id", 4]]
  ↳ app/controllers/booking_requests_controller.rb:111:in `block in answer'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 200 OK in 84ms (Views: 0.3ms | ActiveRecord: 42.4ms | Allocations: 28664)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:31:04 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.6ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 4.0ms | Allocations: 2732)


Started POST "/bookings" for ::1 at 2021-06-14 22:42:57 -0400
  
ActionController::RoutingError (No route matches [POST] "/bookings"):
  
Started GET "/bookings" for ::1 at 2021-06-14 22:43:01 -0400
Processing by BookingsController#index as */*
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBooking Load (1.8ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1 AND (bookings.from > '2021-06-15 02:43:01.139499')[0m  [["user_id", 1]]
  ↳ app/controllers/bookings_controller.rb:4:in `index'
Completed 200 OK in 57ms (Views: 1.0ms | ActiveRecord: 16.3ms | Allocations: 10396)


  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (1.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1 ORDER BY "bookings"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBooking Update (1.4ms)[0m  [1m[33mUPDATE "bookings" SET "from" = $1, "to" = $2, "updated_at" = $3 WHERE "bookings"."id" = $4[0m  [["from", "2021-06-15 08:18:00"], ["to", "2021-06-15 09:18:00"], ["updated_at", "2021-06-15 02:44:52.977766"], ["id", 8]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/bookings" for ::1 at 2021-06-14 22:44:59 -0400
Processing by BookingsController#index as */*
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1 AND (bookings.from > '2021-06-15 02:44:59.047655')[0m  [["user_id", 1]]
  ↳ app/controllers/bookings_controller.rb:4:in `index'
Completed 200 OK in 11ms (Views: 4.6ms | ActiveRecord: 3.4ms | Allocations: 5409)


Started GET "/places/1/bookings" for ::1 at 2021-06-14 22:46:22 -0400
  
AbstractController::ActionNotFound (The action 'bookings' could not be found for PlacesController):
  
actionpack (6.1.3.2) lib/abstract_controller/base.rb:160:in `process'
actionpack (6.1.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.3.2) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
activerecord (6.1.3.2) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Started GET "/places/1/bookings" for ::1 at 2021-06-14 22:49:42 -0400
Processing by PlacesController#bookings as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:79:in `bookings'
  [1m[36mBooking Load (0.9ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.from > '2021-06-15 02:49:42.751409')[0m  [["place_id", 1]]
  ↳ app/controllers/places_controller.rb:86:in `bookings'
Completed 200 OK in 59ms (Views: 10.8ms | ActiveRecord: 17.8ms | Allocations: 19127)


Started GET "/places/2/bookings" for ::1 at 2021-06-14 22:49:49 -0400
Processing by PlacesController#bookings as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:79:in `bookings'
Completed 404 Not Found in 9ms (ActiveRecord: 3.2ms | Allocations: 1482)


  
ActiveRecord::RecordNotFound (Couldn't find Place with 'id'=2):
  
app/controllers/places_controller.rb:79:in `bookings'
Started GET "/places/2/bookings" for ::1 at 2021-06-14 22:50:14 -0400
Processing by PlacesController#bookings as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:79:in `bookings'
Completed 404 Not Found in 26ms (ActiveRecord: 12.2ms | Allocations: 10415)


  
ActiveRecord::RecordNotFound (Couldn't find Place with 'id'=2):
  
app/controllers/places_controller.rb:79:in `bookings'
Started GET "/places/2/bookings" for ::1 at 2021-06-14 22:50:24 -0400
Processing by PlacesController#bookings as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:79:in `bookings'
Completed 404 Not Found in 25ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 10384)


  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(737815420147457505)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210613134732)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "email" character varying, "access_token" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613134732"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaces (20210613135705)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "places" ("id" bigserial primary key, "name" character varying, "address" character varying, "auto_accept" boolean DEFAULT FALSE, "enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613135705"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlaceAdmins (20210613140052)
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "place_admins" ("id" bigserial primary key, "user_id" bigint NOT NULL, "place_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_66a1d8aad1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4eb9f7a75"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_user_id" ON "place_admins" ("user_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_place_admins_on_place_id" ON "place_admins" ("place_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140052"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20210613140628)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "cancelled" boolean DEFAULT FALSE NOT NULL, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "approved_by_user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_49f02fa50e"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_52af65c1ee"
FOREIGN KEY ("approved_by_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_place_id" ON "bookings" ("place_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_user_id" ON "bookings" ("user_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_approved_by_user_id" ON "bookings" ("approved_by_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613140628"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookingRequests (20210613150753)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "booking_requests" ("id" bigserial primary key, "from" timestamp, "to" timestamp, "place_id" bigint NOT NULL, "user_id" bigint NOT NULL, "accepted" boolean DEFAULT NULL, "note" character varying, "booking_id" bigint DEFAULT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_99af4d1138"
FOREIGN KEY ("place_id")
  REFERENCES "places" ("id")
, CONSTRAINT "fk_rails_fe41264bd0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8e3ec99562"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_place_id" ON "booking_requests" ("place_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_user_id" ON "booking_requests" ("user_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_booking_requests_on_booking_id" ON "booking_requests" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210613150753"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-06-15 02:53:41.818170"], ["updated_at", "2021-06-15 02:53:41.818170"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(737815420147457505)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/signup" for ::1 at 2021-06-14 22:58:37 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"name"=>"jorge", "email"=>"jorge@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"jorge", "email"=>"jorge@email.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `signup'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "access_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "jorge"], ["email", "jorge@email.com"], ["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["created_at", "2021-06-15 02:58:37.831973"], ["updated_at", "2021-06-15 02:58:37.831973"]]
  ↳ app/controllers/users_controller.rb:21:in `signup'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:21:in `signup'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 11.5ms | Allocations: 9576)


Started POST "/places" for ::1 at 2021-06-14 22:58:42 -0400
Processing by PlacesController#create as */*
  Parameters: {"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false, "place"=>{"name"=>"sala 41", "address"=>"av. x, #123", "auto_accept"=>false}}
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :place[0m
[31mUnpermitted parameter: :place[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mPlace Create (2.1ms)[0m  [1m[32mINSERT INTO "places" ("name", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "sala 41"], ["address", "av. x, #123"], ["created_at", "2021-06-15 02:58:42.050229"], ["updated_at", "2021-06-15 02:58:42.050229"]]
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mPlaceAdmin Create (2.5ms)[0m  [1m[32mINSERT INTO "place_admins" ("user_id", "place_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["place_id", 1], ["created_at", "2021-06-15 02:58:42.081262"], ["updated_at", "2021-06-15 02:58:42.081262"]]
  ↳ app/controllers/places_controller.rb:16:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/places_controller.rb:16:in `create'
Completed 200 OK in 64ms (Views: 0.7ms | ActiveRecord: 26.8ms | Allocations: 12683)


Started GET "/places" for ::1 at 2021-06-14 22:58:51 -0400
Processing by PlacesController#index as */*
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.4ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/places_controller.rb:6:in `index'
Completed 200 OK in 18ms (Views: 7.5ms | ActiveRecord: 3.9ms | Allocations: 4683)


Started GET "/places/search?name=sala" for ::1 at 2021-06-14 22:58:54 -0400
Processing by PlacesController#search as */*
  Parameters: {"name"=>"sala"}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE (name LIKE '%sala%') ORDER BY "places"."id" ASC LIMIT $1[0m  [["LIMIT", 10]]
  ↳ app/controllers/places_controller.rb:68:in `search'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 1827)


Started GET "/places/2/bookings" for ::1 at 2021-06-14 22:58:58 -0400
Processing by PlacesController#bookings as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.5ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:79:in `bookings'
Completed 404 Not Found in 16ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 4559)


Started GET "/places/1/bookings" for ::1 at 2021-06-14 22:59:04 -0400
Processing by PlacesController#bookings as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/places_controller.rb:79:in `bookings'
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.cancelled = false AND bookings.from > '2021-06-15 02:59:04.256802')[0m  [["place_id", 1]]
  ↳ app/controllers/places_controller.rb:86:in `bookings'
Completed 200 OK in 36ms (Views: 1.2ms | ActiveRecord: 7.6ms | Allocations: 5612)


Started POST "/booking_requests" for ::1 at 2021-06-14 22:59:13 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T04:18:00-04:00", "to"=>"2021-06-14T05:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.7ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.cancelled = false AND (bookings.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' or bookings.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00'))[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.8ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 02:59:13.581151"], ["updated_at", "2021-06-15 02:59:13.581151"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 15.1ms | Allocations: 11153)


Started POST "/booking_requests" for ::1 at 2021-06-14 22:59:27 -0400
Processing by BookingRequestsController#create as */*
  Parameters: {"from"=>"2021-06-14T05:19:00-04:00", "to"=>"2021-06-14T06:18:00-04:00", "place_id"=>1, "booking_request"=>{"from"=>"2021-06-14T05:19:00-04:00", "to"=>"2021-06-14T06:18:00-04:00", "place_id"=>1}}
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 AND "places"."enabled" = $2 LIMIT $3[0m  [["id", 1], ["enabled", true], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:13:in `create'
  [1m[36mBooking Load (1.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."place_id" = $1 AND (bookings.cancelled = false AND (bookings.from between '2021-06-14 09:19:00' and '2021-06-14 10:18:00' or bookings.to between '2021-06-14 09:19:00' and '2021-06-14 10:18:00'))[0m  [["place_id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mPlace Load (0.8ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mBookingRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "booking_requests" ("from", "to", "place_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["from", "2021-06-14 09:19:00"], ["to", "2021-06-14 10:18:00"], ["place_id", 1], ["user_id", 1], ["created_at", "2021-06-15 02:59:27.564526"], ["updated_at", "2021-06-15 02:59:27.564526"]]
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:46:in `create'
Completed 200 OK in 21ms (Views: 0.5ms | ActiveRecord: 10.0ms | Allocations: 5858)


Started GET "/booking_requests/made" for ::1 at 2021-06-14 22:59:32 -0400
Processing by BookingRequestsController#made as */*
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.7ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."user_id" = $1 AND (accepted is null OR accepted is false) ORDER BY "booking_requests"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  ↳ app/controllers/booking_requests_controller.rb:67:in `made'
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 4.3ms | Allocations: 2149)


Started GET "/booking_requests/received" for ::1 at 2021-06-14 22:59:36 -0400
Processing by BookingRequestsController#received as */*
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.5ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  ↳ app/controllers/booking_requests_controller.rb:73:in `received'
Completed 200 OK in 11ms (Views: 2.1ms | ActiveRecord: 3.9ms | Allocations: 1911)


Started POST "/booking_requests/1/answer" for ::1 at 2021-06-14 22:59:46 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>true, "id"=>"1", "booking_request"=>{"accepted"=>true}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (0.9ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mPlace Load (1.2ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:97:in `block in answer'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:98:in `block in answer'
  [1m[36mBooking Create (2.2ms)[0m  [1m[32mINSERT INTO "bookings" ("from", "to", "place_id", "user_id", "approved_by_user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["from", "2021-06-14 08:18:00"], ["to", "2021-06-14 09:18:00"], ["place_id", 1], ["user_id", 1], ["approved_by_user_id", 1], ["created_at", "2021-06-15 02:59:46.043141"], ["updated_at", "2021-06-15 02:59:46.043141"]]
  ↳ app/controllers/booking_requests_controller.rb:94:in `block in answer'
  [1m[36mBookingRequest Update All (1.6ms)[0m  [1m[33mUPDATE "booking_requests" SET accepted = false, note = 'conflict' WHERE (
      booking_requests.id <> 1 AND booking_requests.accepted IS NULL AND booking_requests.place_id = 1 AND
      (booking_requests.from between '2021-06-14 08:18:00' and '2021-06-14 09:18:00' OR booking_requests.to between '2021-06-14 08:18:00' and '2021-06-14 09:18:00'))[0m
  ↳ app/controllers/booking_requests_controller.rb:108:in `block in answer'
  [1m[36mBookingRequest Update (2.2ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "booking_id" = $2, "updated_at" = $3 WHERE "booking_requests"."id" = $4[0m  [["accepted", true], ["booking_id", 1], ["updated_at", "2021-06-15 02:59:46.050976"], ["id", 1]]
  ↳ app/controllers/booking_requests_controller.rb:111:in `block in answer'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:93:in `answer'
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 16.1ms | Allocations: 10816)


Started GET "/booking_requests/received" for ::1 at 2021-06-14 22:59:50 -0400
Processing by BookingRequestsController#received as */*
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBookingRequest Load (1.3ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" JOIN place_admins on booking_requests.place_id = place_admins.place_id and place_admins.user_id = 1[0m
  ↳ app/controllers/booking_requests_controller.rb:73:in `received'
Completed 200 OK in 10ms (Views: 2.3ms | ActiveRecord: 3.5ms | Allocations: 1903)


Started POST "/booking_requests/2/answer" for ::1 at 2021-06-14 23:00:00 -0400
Processing by BookingRequestsController#answer as */*
  Parameters: {"accepted"=>false, "id"=>"2", "booking_request"=>{"accepted"=>false}}
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
[31mUnpermitted parameter: :booking_request[0m
  [1m[36mBookingRequest Load (1.0ms)[0m  [1m[34mSELECT "booking_requests".* FROM "booking_requests" WHERE "booking_requests"."id" = $1 AND "booking_requests"."accepted" IS NULL LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:78:in `answer'
  [1m[36mPlace Load (0.9ms)[0m  [1m[34mSELECT "places".* FROM "places" INNER JOIN "place_admins" ON "places"."id" = "place_admins"."place_id" WHERE "place_admins"."user_id" = $1 AND "places"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:84:in `answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/booking_requests_controller.rb:89:in `answer'
  [1m[36mPlace Load (1.0ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:89:in `answer'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/booking_requests_controller.rb:89:in `answer'
  [1m[36mBookingRequest Update (1.3ms)[0m  [1m[33mUPDATE "booking_requests" SET "accepted" = $1, "updated_at" = $2 WHERE "booking_requests"."id" = $3[0m  [["accepted", false], ["updated_at", "2021-06-15 03:00:00.965309"], ["id", 2]]
  ↳ app/controllers/booking_requests_controller.rb:89:in `answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/booking_requests_controller.rb:89:in `answer'
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 5979)


Started GET "/bookings" for ::1 at 2021-06-14 23:00:05 -0400
Processing by BookingsController#index as */*
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1 AND (bookings.cancelled = false AND bookings.from > '2021-06-15 03:00:05.902578')[0m  [["user_id", 1]]
  ↳ app/controllers/bookings_controller.rb:4:in `index'
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 4.7ms | Allocations: 1847)


Started POST "/bookings/1/cancel" for ::1 at 2021-06-14 23:04:58 -0400
Processing by BookingsController#cancel as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."access_token" = $1 LIMIT $2[0m  [["access_token", "eyJhbGciOiJSUzI1NiJ9.eyJlbWFpbCI6ImpvcmdlQGVtYWlsLmNvbSIsInBhc3N3b3JkIjoiMTIzNDUuQmEifQ.gz_WQOobeWQp-Km4354hxK_BOIOUcYlRdFGNCW_9cf5o_Z5jl7c1-zXeHbZ2wDm4DBEIorzN6kEbNqL1SbG-Dd6r-uoj42Y2u96BmACWaYj20Bp6WP6MUBqsNXlJs3T-IhofcVe_j5D18eif1hHdSYD2Um81FxFx13HJiqAivj2FBuPCT4s4F-Anc5IYj70pyfKc1KrK3OCeFnleYMG__sTNvbdb29n1eADZJ2h6M1-rpj98u7JgYy9eyIRFgqcqJiDd_u4on6HpvO2Rs04sfuqnq7-rZNmURL9d9OxvuGt9oIrlPLDGEyRoUYSAxwsfxRv3RJL5B-kK2IsrWvYz5w"], ["LIMIT", 1]]
  ↳ app/controllers/authenticated_controller.rb:11:in `authenticate_request'
  [1m[36mBooking Load (1.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = $1 AND "bookings"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:8:in `cancel'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/bookings_controller.rb:13:in `cancel'
  [1m[36mPlace Load (1.1ms)[0m  [1m[34mSELECT "places".* FROM "places" WHERE "places"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:13:in `cancel'
  [1m[36mBooking Update (1.1ms)[0m  [1m[33mUPDATE "bookings" SET "cancelled" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["cancelled", true], ["updated_at", "2021-06-15 03:04:58.231308"], ["id", 1]]
  ↳ app/controllers/bookings_controller.rb:13:in `cancel'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/bookings_controller.rb:13:in `cancel'
Completed 200 OK in 62ms (Views: 0.4ms | ActiveRecord: 23.7ms | Allocations: 21812)


